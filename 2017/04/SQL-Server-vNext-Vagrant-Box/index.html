<!DOCTYPE html><html lang="default"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="ori donner"><meta name="google-site-verification" content="_1jVKCHfaTkKqBgpQP8PUJeLokwW_vYYemWqha7T9BE"><link rel="icon" href="/sqldevops.ico"><title>SQL DevOps</title><meta name="description"><link rel="alternate" type="application/rss+xml" title="SQL DevOps" href="/atom.xml"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">
</head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">SQL DevOps</a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li><li><a href="https://github.com/">Github</a></li></ul></div><div class="avatar-container"><div class="avatar-img-border"><a href="/"><img src="/sqldevops.ico" class="avatar-img"></a></div></div></div></nav><header class="header-section"><div class="intro-header no-img"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>3 good reasons for starting SQL Server vNext.</h1><p class="post-meta">Posted on Apr 2 2017 · <a href="/tags/vNext/" class="tag post-meta">vNext</a> · <a href="/tags/Linux/" class="tag post-meta">Linux</a> · <a href="/tags/Packer/" class="tag post-meta">Packer</a> · <a href="/tags/Vagrant/" class="tag post-meta">Vagrant</a> · <a href="/tags/VirtualBox/" class="tag post-meta">VirtualBox</a> · <a href="/tags/Ubuntu-16-04/" class="tag post-meta">Ubuntu 16.04</a> · <a href="/tags/Virtual-Machine/" class="tag post-meta">Virtual Machine</a></p></div></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role="main" class="blog-post"><h2 id="SQL-Server-vNext"><a href="#SQL-Server-vNext" class="headerlink" title="SQL Server vNext"></a>SQL Server vNext</h2><p>Nov. 2016, Microsoft announced it’s first SQL Server Linux version (<a href="https://www.microsoft.com/en-us/sql-server/sql-server-vnext-including-Linux" target="_blank" rel="external">vNext</a>); On March 2017 CTP 1.4 was launched; An average rate of approximately one CTP update per month; Microsoft is taking things seriously!   </p>
<p>You probably ask yourself; Why should a SQL Server DBA, works his entire life on Windows OS,  be interested in SQL Server running on Linux?  </p>
<p>I’m going to give you the tools and some good reasons for running SQL Server vNext on your PC’s VirtualBox, for your local Dev\Test\QA environment: </p>
<h3 id="1-Fast-amp-Agile"><a href="#1-Fast-amp-Agile" class="headerlink" title="1. Fast &amp; Agile"></a><em>1. Fast &amp; Agile</em></h3><p>Build a “disposable” Dev\Test\QA environment; Spin up the environment (SQL Server on Linux OS) from source code in about <u><strong>50 sec </strong></u> and get a fresh new environment. If code executes not as expected, just destroy the VM and rebuild it. </p>
<h3 id="2-Simple"><a href="#2-Simple" class="headerlink" title="2. Simple"></a><em>2. Simple</em></h3><p>Follow the instructions bellow, in just 5 min reading; Simple to maintain and configure; No previous Linux background is required; No need to change environments works on your Windows environment.</p>
<h3 id="3-Cost-effective"><a href="#3-Cost-effective" class="headerlink" title="3. Cost effective"></a><em>3. Cost effective</em></h3><p>Even though SQL Server Developer edition is free, the hosting Windows Server license, costs. You can save yourself some of those licenses, by running SQL Server on Linux.</p>
<h3 id="4-Mobile"><a href="#4-Mobile" class="headerlink" title="4. Mobile"></a><em>4. Mobile</em></h3><p>Build a local Dev\Test\QA Lab on your Windows PC with VirtualBox; Continue working on your projects when detached from the network or have no internet access.</p>
<h2 id="Build-a-local-Lab-on-your-Windows-PC"><a href="#Build-a-local-Lab-on-your-Windows-PC" class="headerlink" title="Build a local Lab on your Windows PC"></a>Build a local Lab on your Windows PC</h2><p>First, ensure <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="external">VirtualBox</a> and <a href="https://www.vagrantup.com/downloads.html" target="_blank" rel="external">Vagrant</a> are installed on your PC.  VirtualBox is a cross-platform virtualization application (Hypervisor) that builds virtual machines (guests) on the host.  Vagrant is easy to use tool for managing and automating the Virtual Machine(VM). </p>
<h2 id="Vagrant-Box"><a href="#Vagrant-Box" class="headerlink" title="Vagrant Box"></a>Vagrant Box</h2><p>Vagrant uses a Vagrant box image to spin-up a VirtualBox VM. The image is built with the help of <a href="https://www.packer.io/intro/index.html" target="_blank" rel="external">Packer</a> and saved in <a href="https://atlas.hashicorp.com/boxes/search?utm_source=vagrantcloud.com&amp;vagrantcloud=1" target="_blank" rel="external">Vagrant box repository</a>.<br>With the help of <a href="https://github.com/boxcutter" target="_blank" rel="external">Boxcutter</a> (ready made Packer templates),  I have created a SQL Server vNext 14.0.405 Vagrant box, running on Ubuntu 16.04.2 . You can view the Packer template code on <a href="https://github.com/sqldevops/Packer-SQL-Server-vNext" target="_blank" rel="external">SqlDevops GitHub repo</a>, and download the Vagrant Box from <a href="https://atlas.hashicorp.com/sqldevops/boxes/sql-server-vnext" target="_blank" rel="external">SqlDevops Vagrant repo</a>.</p>
<h2 id="Spin-up-the-Server"><a href="#Spin-up-the-Server" class="headerlink" title="Spin-up the Server"></a>Spin-up the Server</h2><p>In order to spin up a VM with Vagrant, follow these 4 simple steps:</p>
<ol>
<li><p>Create a new folder (vNext) on your host machine, and switch into it:<br><code>c:\&gt; mkdir vNext</code><br><code>c:\&gt; cd vNext</code></p>
</li>
<li><p>Start a new Vagrantfile:<br><code>c:\vNext&gt; Vagrant init -m</code></p>
</li>
<li><p>Open the Vagrantfile with your favorite text editor and copy the code below :<br><code>Vagrant.configure(&quot;2&quot;) do |config|</code><br><code>config.vm.define &quot;mssql&quot; do |mssql|</code><br>   <code>mssql.vm.box = &quot;sqldevops/sql-server-vnext&quot;</code><br>   <code>mssql.vm.hostname = &quot;mssql-vnext&quot;</code><br>   <code>mssql.vm.network &quot;private_network&quot;, ip:&quot;192.168.33.10&quot;</code><br>   <code>mssql.vm.provider &quot;virtualbox&quot; do |p|</code><br>   <code>p.name=&quot;mssql-vnext&quot;</code><br>   <code>p.memory=&quot;3500&quot;</code><br>   <code>end</code><br> <code>end</code><br><code>end</code></p>
</li>
<li>Spin up the server :<br><code>c:\vNext&gt; Vagrant up</code></li>
</ol>
<p>The VM’s network configuration is set in the Vagrantfile; I have set it for a local network with a specific IP. More configuration settings can be found on <a href="https://www.vagrantup.com/docs/index.html" target="_blank" rel="external">Vagrant Documentation</a>.</p>
<p>First time executed, Vagrant will download the box locally (it takes a bit of a time). After the box is downloaded, it takes approx. 50 seconds to spin up a full SQL Server vNext instance with the OS from scratch.</p>
<h2 id="Connect-to-SQL-Server-vNext"><a href="#Connect-to-SQL-Server-vNext" class="headerlink" title="Connect to SQL Server vNext"></a>Connect to SQL Server vNext</h2><p>Once the VM is up and running, it can be connected to. Open SSMS, in the <strong> Connect to Server </strong>window, enter the Server’s IP, as set in the Vagrant file. Use the SQL Server Authentication mode, and login  as “<strong>sa</strong>“ with  this password  “<strong>vnext@2017</strong>“.<br>If you want to name your VM’s server instead of using its IP, add this row to the hosts file on your host (c:\windows\system32\drivers\etc\hosts)  , where <strong>mssql-vnext</strong>  is the Servers name:<br><code>mssql-vnext 192.168.33.10</code></p>
<h2 id="Open-a-terminal-to-Ubuntu-Server"><a href="#Open-a-terminal-to-Ubuntu-Server" class="headerlink" title="Open a terminal to Ubuntu Server"></a>Open a terminal to Ubuntu Server</h2><p>In case you want to open a terminal to the Linux Ubuntu OS hosting your SQL Server vNext, just execute this command:<br><code>c:\vNext&gt; Vagrant ssh</code><br>For further information about managing SQL Server on Ubuntu, follow this <a href="https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-management-overview" target="_blank" rel="external">Link</a></p>
<h2 id="SQL-Server-vNext-further-updates"><a href="#SQL-Server-vNext-further-updates" class="headerlink" title="SQL Server vNext further updates"></a>SQL Server vNext further updates</h2><p>Follow SQL Server vNext updates, by joining the early adoption program, on this <a href="http://sqlservervnexteap.azurewebsites.net/" target="_blank" rel="external">link</a>.</p>
</article><ul class="pager blog-pager"><li class="previous"><a href="/2017/05/vNext-Linked-Server/" data-toggle="tooltip" data-placement="top" title="Linked Server on SQL Server vNext">← Previous Post</a></li></ul><div class="disqus-comments"><div class="comments"><div id="disqus_thread"></div></div></div><script>var url_parts = window.location.href.split("?");
var disqus_url = url_parts[0];
(function () {
    console.log("enter disqus");
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = "//https-sqldevops-github-io.disqus.com/embed.js";
    (document.head || d.body ).appendChild(dsq);
})();</script></div></div></div><footer><div class="container beautiful-jekyll-footer"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href="https://github.com/sqldevops" title="GitHub"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-github"></i></span></a></li><li><a href="/atom.xml" title="RSS"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-rss"></i></span></a></li><li><a href="mailto:sqldevops@gmail.com" title="Email me"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-envelope"></i></span></a></li><li><a href="https://il.linkedin.com/in/oridonner" title="LinkedIn"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-linkedin"></i></span></a></li></ul><p class="copyright text-muted">© ori donner • 2017 • <a href="mailto:undefined"></a>
</p><p class="theme-by text-muted">Hosted by
<a href="https://pages.github.com/">GitHub Pages</a>
Powered by 
<a href="https://hexo.io/">Hexo</a></p></div></div></div></footer><script src="/js/jquery-1.11.2.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script src="/js/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script>(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
    a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-91266041-1', 'auto');
ga('send', 'pageview');</script></body></html>